jQuery(function(a){a(".tips").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:0});a(":input.yith-wcmbs-search-products").filter(":not(.enhanced)").each(function(){var b={allowClear:a(this).data("allow_clear")?!0:!1,placeholder:a(this).data("placeholder"),minimumInputLength:a(this).data("minimum_input_length")?a(this).data("minimum_input_length"):"3",escapeMarkup:function(c){return c},ajax:{url:wc_enhanced_select_params.ajax_url,dataType:"json",quietMillis:250,data:function(c){return{term:c,
action:"yith_wcmbs_json_search_products_and_variations",security:wc_enhanced_select_params.search_products_nonce,exclude:a(this).data("exclude"),include:a(this).data("include"),limit:a(this).data("limit")}},results:function(c){var b=[];c&&a.each(c,function(c,a){b.push({id:c,text:a})});return{results:b}},cache:!0}};!0===a(this).data("multiple")?(b.multiple=!0,b.initSelection=function(c,b){var e=a.parseJSON(c.attr("data-selected")),d=[];a(c.val().split(",")).each(function(c,a){d.push({id:a,text:e[a]})});
return b(d)},b.formatSelection=function(a){return'<div class="selected-option" data-id="'+a.id+'">'+a.text+"</div>"}):(b.multiple=!1,b.initSelection=function(a,b){a={id:a.val(),text:a.attr("data-selected")};return b(a)});b=a.extend(b,getEnhancedSelectFormatString());a(this).select2(b).addClass("enhanced")})});
